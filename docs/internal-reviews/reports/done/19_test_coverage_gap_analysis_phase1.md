# REQ-19 Phase 1 èª¿æŸ»çµæœï¼šé ˜åŸŸåˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»æ©Ÿèƒ½ãƒ»é–¢æ•°åˆ†é¡è¡¨

**ä½œæˆæ—¥**: 2025-12-03
**èª¿æŸ»åŒºé–“**: REQ-19 Phase 1 (åˆ†é¡ãƒ»æ•´ç†èª¿æŸ»)
**æˆæœç‰©**: é ˜åŸŸåˆ¥åˆ†é¡è¡¨ + ãƒ†ã‚¹ãƒˆçŠ¶æ³åˆ†æ

---

## ç›®æ¬¡

1. [å…¨ä½“çµ±è¨ˆ](#å…¨ä½“çµ±è¨ˆ)
2. [A) Vue Component é ˜åŸŸ](#a-vue-component-é ˜åŸŸ)
3. [B) APIãƒ»ãƒ‡ãƒ¼ã‚¿å–å¾—é ˜åŸŸ](#b-apiãƒ‡ãƒ¼ã‚¿å–å¾—é ˜åŸŸ)
4. [C) ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ãƒ­ã‚¸ãƒƒã‚¯é ˜åŸŸ](#c-ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ­ã‚¸ãƒƒã‚¯é ˜åŸŸ)
5. [D) çŠ¶æ…‹ç®¡ç†é ˜åŸŸ](#d-çŠ¶æ…‹ç®¡ç†é ˜åŸŸ)
6. [E) ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ»å¤‰æ›é ˜åŸŸ](#e-ãƒ‘ãƒ¼ã‚µãƒ¼å¤‰æ›é ˜åŸŸ)
7. [Phase 2 å‘ã‘ï¼šã¬ã‘æ¼ã‚Œãƒ»æ›´æ–°æ¼ã‚Œãƒ»å»ƒæ­¢æ¼ã‚Œã®å„ªå…ˆäº‹é …](#phase-2-å‘ã‘ã¬ã‘æ¼ã‚Œæ›´æ–°æ¼ã‚Œå»ƒæ­¢æ¼ã‚Œã®å„ªå…ˆäº‹é …)

---

## å…¨ä½“çµ±è¨ˆ

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»æ©Ÿèƒ½ãƒ»é–¢æ•°ã®ç·æ•°

| é ˜åŸŸ | ãƒ•ã‚¡ã‚¤ãƒ«æ•° | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ/æ©Ÿèƒ½æ•° | é–¢æ•°æ•° | åˆè¨ˆ |
|------|----------|-----------------|--------|-----|
| **Vue Component** | 23 | 23 | - | 23 |
| **API** | 5 | 17 | 42 | 59 |
| **Utility** | 28 | 28 | 133 | 161 |
| **Store** | 3 | 3 | 128* | 131 |
| **Parser** | 3 | 3 | 18 | 21 |
| **åˆè¨ˆ** | **62** | **74** | **321** | **395** |

*: State (37) + Computed (8) + Action (83)

### ãƒ†ã‚¹ãƒˆçŠ¶æ³ã®æ¦‚è¦

| é ˜åŸŸ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | éƒ¨åˆ†å®Ÿè£… | ãƒ†ã‚¹ãƒˆæ¬ è½ | å…¨ä½“ã‚«ãƒãƒ¬ãƒƒã‚¸ |
|------|----------|---------|----------|-------------|
| **Vue Component** | 5 (21.7%) | 0 | 18 (78.3%) | 21.7% |
| **API** | 6 (14.3%) | 6 (14.3%) | 30 (71.4%) | 28.6% |
| **Utility** | 4 (14.3%) | 7 (25%) | 17 (60.7%) | 39.3% |
| **Store** | 66 (51.6%) | 0 | 62 (48.4%) | 51.6% |
| **Parser** | 1 (5.6%) | 0 | 17 (94.4%) | 5.6% |
| **å¹³å‡** | - | - | - | **29.4%** |

---

## A) Vue Component é ˜åŸŸ

**èª¿æŸ»å¯¾è±¡**: src/components/ (22å€‹) + src/content/edit-ui/DeckEditLayout.vue (1å€‹)
**åˆè¨ˆ**: 23å€‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### åˆ†é¡è¡¨

| Component | è²¬ä»»ç¯„å›² | ãƒ†ã‚¹ãƒˆçŠ¶æ³ | ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« | æ›´æ–°çŠ¶æ³ | å»ƒæ­¢çŠ¶æ³ |
|-----------|---------|----------|-------------|---------|---------|
| CardDetail.vue | ã‚«ãƒ¼ãƒ‰è©³ç´°è¡¨ç¤ºï¼ˆInfo/Q&A/Related/Products ã‚¿ãƒ–ï¼‰ | âŒ æ¬ è½ | - | - | - |
| CardList.vue | ã‚«ãƒ¼ãƒ‰ä¸€è¦§è¡¨ç¤ºãƒ»ã‚½ãƒ¼ãƒˆãƒ»ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ | âœ… å®Ÿè£…æ¸ˆã¿ | CardList.test.ts | æœ€æ–° | - |
| CardInfo.vue | ã‚«ãƒ¼ãƒ‰åŸºæœ¬æƒ…å ±ãƒ»ç”»åƒãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º | âœ… å®Ÿè£…æ¸ˆã¿ | CardInfo.test.ts | æœ€æ–° | - |
| SearchInputBar.vue | æ¤œç´¢å…¥åŠ›ãƒãƒ¼ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼é¸æŠãƒ»æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰ï¼‰ | âŒ æ¬ è½ | - | - | - |
| DeckCard.vue | ãƒ‡ãƒƒã‚­ã‚«ãƒ¼ãƒ‰ UIï¼ˆãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ»ãƒœã‚¿ãƒ³åˆ¶å¾¡ï¼‰ | âœ… å®Ÿè£…æ¸ˆã¿ | DeckCard.test.ts | æœ€æ–° | - |
| DeckSection.vue | ãƒ‡ãƒƒã‚­ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆMain/Extra/Side/Trashï¼‰ | âœ… å®Ÿè£…æ¸ˆã¿ | DeckSection.test.ts | æœ€æ–° | - |
| DeckMetadata.vue | ãƒ‡ãƒƒã‚­ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿çµ±åˆï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ã‚¿ã‚°ãƒ»èª¬æ˜ï¼‰ | âŒ æ¬ è½ | - | - | - |
| CategoryDialog.vue | ã‚«ãƒ†ã‚´ãƒªé¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚° | âŒ æ¬ è½ | - | - | - |
| ExportDialog.vue | ãƒ‡ãƒƒã‚­ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼ˆCSV/TXTï¼‰ | âŒ æ¬ è½ | - | - | - |
| ImportDialog.vue | ãƒ‡ãƒƒã‚­ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ€ã‚¤ã‚¢ãƒ­ã‚° | âŒ æ¬ è½ | - | - | - |
| TagDialog.vue | ã‚¿ã‚°é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚° | âŒ æ¬ è½ | - | - | - |
| ConfirmDialog.vue | æ±ç”¨ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° | âŒ æ¬ è½ | - | - | - |
| RightArea.vue | å³å´ã‚¨ãƒªã‚¢ï¼ˆãƒ‡ãƒƒã‚­ãƒ»ã‚«ãƒ¼ãƒ‰ãƒ»æ¤œç´¢ãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰ | âŒ æ¬ è½ | - | - | - |
| DeckEditLayout.vue | ãƒ‡ãƒƒã‚­ç·¨é›†çµ±åˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ | âŒ æ¬ è½ | - | - | - |
| CardQA.vue | Q&A æƒ…å ±è¡¨ç¤ºï¼ˆFAQ å±•é–‹æ©Ÿèƒ½ï¼‰ | âœ… å®Ÿè£…æ¸ˆã¿ | CardQA.test.ts | æœ€æ–° | - |
| CardProducts.vue | ã‚«ãƒ¼ãƒ‰åéŒ²ãƒ‘ãƒƒã‚¯æƒ…å ±è¡¨ç¤º | âŒ æ¬ è½ | - | - | - |
| DeckEditTopBar.vue | ãƒ‡ãƒƒã‚­ç·¨é›†ãƒˆãƒƒãƒ—ãƒãƒ¼ï¼ˆUndo/Redoï¼‰ | âŒ æ¬ è½ | - | - | - |
| DeckMetadataTags.vue | ãƒ‡ãƒƒã‚­ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å†…ã‚¿ã‚°ãƒ»ã‚«ãƒ†ã‚´ãƒªè¡¨ç¤º | âŒ æ¬ è½ | - | - | - |
| DeckMetadataHeader.vue | ãƒ‡ãƒƒã‚­ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ˜ãƒƒãƒ€ãƒ¼ | âŒ æ¬ è½ | - | - | - |
| DeckMetadataDescription.vue | ãƒ‡ãƒƒã‚­ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿èª¬æ˜ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ | âŒ æ¬ è½ | - | - | - |
| Toast.vue | é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º | âŒ æ¬ è½ | - | - | - |
| SearchFilterDialog.vue | æ¤œç´¢æ¡ä»¶æŒ‡å®šãƒ€ã‚¤ã‚¢ãƒ­ã‚° | âŒ æ¬ è½ | - | - | - |
| OptionsDialog.vue | è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ€ã‚¤ã‚¢ãƒ­ã‚° | âŒ æ¬ è½ | - | - | - |

### çµ±è¨ˆ

- **ãƒ†ã‚¹ãƒˆå®Ÿè£…ç‡**: 21.7% (5/23)
- **ãƒ†ã‚¹ãƒˆæ¬ è½**: 78.3% (18/23)
- **ãƒ†ã‚¹ãƒˆæ¸ˆã¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: CardList, CardInfo, DeckCard, DeckSection, CardQA

---

## B) APIãƒ»ãƒ‡ãƒ¼ã‚¿å–å¾—é ˜åŸŸ

**èª¿æŸ»å¯¾è±¡**: src/api/ 5ãƒ•ã‚¡ã‚¤ãƒ«
**åˆè¨ˆ**: 42å€‹é–¢æ•°

### åˆ†é¡è¡¨

| API Module | é–¢æ•°å | è²¬ä»»ç¯„å›² | Parameters | Return Type | ãƒ†ã‚¹ãƒˆçŠ¶æ³ | ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« |
|-----------|--------|---------|-----------|------------|----------|-------------|
| card-faq.ts | getCardFAQList | FAQä¸€è¦§å–å¾—ãƒ»ãƒ‘ãƒ¼ã‚¹ | cardId: string | CardFAQList \| null | âš ï¸ éƒ¨åˆ†å®Ÿè£… | tests/combine/parser/card-faq-list.test.ts |
| card-faq.ts | getFAQDetail | å€‹åˆ¥FAQè©³ç´°å–å¾—ãƒ»ãƒ‘ãƒ¼ã‚¹ | faqId: string | CardFAQ \| null | âš ï¸ éƒ¨åˆ†å®Ÿè£… | tests/combine/parser/card-faq-list.test.ts |
| card-search.ts | searchCards | è¤‡é›‘ãªæ¤œç´¢æ¡ä»¶ã§ã‚«ãƒ¼ãƒ‰æ¤œç´¢ | options: SearchOptions | Promise<CardInfo[]> | âŒ æ¬ è½ | - |
| card-search.ts | searchCardsByName | ã‚«ãƒ¼ãƒ‰åæ¤œç´¢ï¼ˆç°¡æ˜“ç‰ˆï¼‰ | keyword: string | Promise<CardInfo[]> | âŒ æ¬ è½ | - |
| card-search.ts | searchCardsAuto | ã‚ªãƒ¼ãƒˆè£œå®Œç”¨ã‚«ãƒ¼ãƒ‰æ¤œç´¢ | keyword: string | Promise<SearchAutoResult> | âŒ æ¬ è½ | - |
| card-search.ts | searchCardById | ã‚«ãƒ¼ãƒ‰ ID ã§å€‹åˆ¥æ¤œç´¢ | cardId: string | Promise<CardInfo \| null> | âŒ æ¬ è½ | - |
| card-search.ts | searchCardsByPackId | ãƒ‘ãƒƒã‚¯ ID ã‹ã‚‰ã‚«ãƒ¼ãƒ‰æ¤œç´¢ | packId: string | Promise<CardInfo[]> | âŒ æ¬ è½ | - |
| card-search.ts | extractImageInfo | DOM ã‹ã‚‰ã‚«ãƒ¼ãƒ‰ç”»åƒæŠ½å‡º | doc: Document | Map<...> | âš ï¸ éƒ¨åˆ†å®Ÿè£… | tests/combine/parser/card-search.test.ts |
| card-search.ts | buildCardImageUrl | ã‚«ãƒ¼ãƒ‰ç”»åƒ URL ç”Ÿæˆ | card: CardBase | string \| undefined | âŒ æ¬ è½ | - |
| card-search.ts | parseSearchResults | æ¤œç´¢çµæœãƒšãƒ¼ã‚¸ãƒ‘ãƒ¼ã‚¹ | doc: Document | CardInfo[] | âœ… å®Ÿè£…æ¸ˆã¿ | tests/combine/parser/card-search.test.ts |
| card-search.ts | parseSearchResultRow | æ¤œç´¢çµæœå˜ä¸€è¡Œãƒ‘ãƒ¼ã‚¹ | row: Element, ... | CardInfo \| null | âœ… å®Ÿè£…æ¸ˆã¿ | tests/combine/parser/card-search.test.ts |
| card-search.ts | fetchAdditionalPages | è¤‡æ•°ãƒšãƒ¼ã‚¸ä¸¦åˆ—å–å¾— | baseParams, parseFunc, ... | Promise<CardInfo[]> | âœ… å®Ÿè£…æ¸ˆã¿ | tests/unit/api/card-search-promise.test.ts |
| card-search.ts | getCardDetail | ã‚«ãƒ¼ãƒ‰è©³ç´°ãƒšãƒ¼ã‚¸å–å¾—ãƒ»ãƒ‘ãƒ¼ã‚¹ | cardId: string | Promise<CardDetail \| null> | âš ï¸ éƒ¨åˆ†å®Ÿè£… | tests/combine/parser/card-detail.test.ts |
| card-search.ts | getCardDetailWithCache | getCardDetail + ã‚­ãƒ£ãƒƒã‚·ãƒ¥ | cardId: string, options? | Promise<CardDetail \| null> | âš ï¸ éƒ¨åˆ†å®Ÿè£… | tests/combine/flow/full-flow.test.ts |
| card-search.ts | saveCardDetailToCache | ã‚«ãƒ¼ãƒ‰è©³ç´°ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜ | cardId: string, detail | Promise<void> | âŒ æ¬ è½ | - |
| deck-operations.ts | createNewDeckInternal | æ–°è¦ãƒ‡ãƒƒã‚­ä½œæˆ | cgid: string | Promise<number> | âŒ æ¬ è½ | - |
| deck-operations.ts | deleteDeckInternal | ãƒ‡ãƒƒã‚­å‰Šé™¤ | cgid: string, dno: number | Promise<boolean> | âŒ æ¬ è½ | - |
| deck-operations.ts | saveDeckInternal | ãƒ‡ãƒƒã‚­æƒ…å ±ä¿å­˜ | cgid, dno, deckData, ytkn | Promise<OperationResult> | âŒ æ¬ è½ | - |
| deck-operations.ts | getDeckDetail | ãƒ‡ãƒƒã‚­è©³ç´°å–å¾—ãƒ»ãƒ‘ãƒ¼ã‚¹ | dno: number, cgid? | Promise<DeckInfo \| null> | âš ï¸ éƒ¨åˆ†å®Ÿè£… | tests/combine/parser/deck-detail.test.ts |
| deck-operations.ts | getDeckListInternal | ãƒã‚¤ãƒ‡ãƒƒã‚­ä¸€è¦§å–å¾— | cgid: string | Promise<DeckListItem[]> | âŒ æ¬ è½ | - |
| forbidden-limited.ts | parseForbiddenLimitedHtml | ç¦æ­¢åˆ¶é™ HTML ãƒ‘ãƒ¼ã‚¹ | html: string, effectiveDate | ForbiddenLimitedList | âŒ æ¬ è½ | - |
| forbidden-limited.ts | fetchForbiddenLimitedList | ç¦æ­¢åˆ¶é™ãƒªã‚¹ãƒˆå–å¾— | effectiveDate? | Promise<ForbiddenLimitedList> | âœ… å®Ÿè£…æ¸ˆã¿ | tests/unit/utils/forbidden-limited-cache.test.ts |
| forbidden-limited.ts | getNextEffectiveDate | æ¬¡ã®é©ç”¨æ—¥è¨ˆç®— | currentDate? | string (YYYY-MM-DD) | âŒ æ¬ è½ | - |
| image-utils.ts | getAttributeIconUrl | å±æ€§ã‚¢ã‚¤ã‚³ãƒ³ URL ç”Ÿæˆ | attribute: string | string | âŒ æ¬ è½ | - |
| image-utils.ts | getLevelIconUrl | ãƒ¬ãƒ™ãƒ«ã‚¢ã‚¤ã‚³ãƒ³ URL ç”Ÿæˆ | (void) | string | âŒ æ¬ è½ | - |
| image-utils.ts | getRankIconUrl | ãƒ©ãƒ³ã‚¯ã‚¢ã‚¤ã‚³ãƒ³ URL ç”Ÿæˆ | (void) | string | âŒ æ¬ è½ | - |
| image-utils.ts | getSpellIconUrl | é­”æ³•ã‚¢ã‚¤ã‚³ãƒ³ URL ç”Ÿæˆ | (void) | string | âŒ æ¬ è½ | - |
| image-utils.ts | getTrapIconUrl | ç½ ã‚¢ã‚¤ã‚³ãƒ³ URL ç”Ÿæˆ | (void) | string | âŒ æ¬ è½ | - |
| image-utils.ts | getEffectTypeIconUrl | åŠ¹æœã‚¿ã‚¤ãƒ—ã‚¢ã‚¤ã‚³ãƒ³ URL ç”Ÿæˆ | effectType: string | string \| null | âŒ æ¬ è½ | - |
| image-utils.ts | getLinkMarkerClasses | ãƒªãƒ³ã‚¯ãƒãƒ¼ã‚«ãƒ¼â†’ã‚¯ãƒ©ã‚¹é…åˆ— | linkMarkers: number | string[] | âŒ æ¬ è½ | - |
| image-utils.ts | getLinkMarkerClassName | ãƒªãƒ³ã‚¯ãƒãƒ¼ã‚«ãƒ¼â†’ã‚¯ãƒ©ã‚¹å | linkMarkers: number | string | âŒ æ¬ è½ | - |

### çµ±è¨ˆ

- **ãƒ†ã‚¹ãƒˆå®Ÿè£…ç‡**: 14.3% (6/42)
- **éƒ¨åˆ†å®Ÿè£…**: 14.3% (6/42)
- **ãƒ†ã‚¹ãƒˆæ¬ è½**: 71.4% (30/42)

### é«˜å„ªå…ˆåº¦ï¼šæ¬ è½ãƒ†ã‚¹ãƒˆ

**å„ªå…ˆåº¦ğŸ”´ é«˜** (ãƒ†ã‚¹ãƒˆå®Ÿè£…é›£åº¦ä½ãƒ»é‡è¦åº¦é«˜):
- image-utils.ts 8é–¢æ•° â†’ å˜ç´”ãª URL/ãƒ“ãƒƒãƒˆæ¼”ç®—
- getNextEffectiveDate â†’ æœˆè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
- buildCardImageUrl â†’ URL ç”Ÿæˆ

---

## C) ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ãƒ­ã‚¸ãƒƒã‚¯é ˜åŸŸ

**èª¿æŸ»å¯¾è±¡**: src/utils/ 28ãƒ•ã‚¡ã‚¤ãƒ«
**åˆè¨ˆ**: 133å€‹é–¢æ•°

### ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ãƒ†ã‚¹ãƒˆçŠ¶æ³

| ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ« | é–¢æ•°æ•° | ãƒ†ã‚¹ãƒˆçŠ¶æ³ | èª¬æ˜ |
|----------------|--------|----------|------|
| url-builder.ts | 14 | âœ… å®Œå…¨å®Ÿè£… | request_locale ãƒ«ãƒ¼ãƒ«ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒãƒ¼ã‚¸ |
| unified-cache-db.ts | 11 | âœ… å®Œå…¨å®Ÿè£… | TTL å¢ƒç•Œå€¤ã€è¨€èªåˆ¥ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| category-grouping.ts | 9 | âœ… å®Œå…¨å®Ÿè£… | ä»®åæ–‡å­—åˆ¤å®šã€ã‚°ãƒ«ãƒ¼ãƒ—åˆ†é¡ |
| language-detector.ts | 1 | âœ… å®Œå…¨å®Ÿè£… | å„ªå…ˆåº¦ãƒ†ã‚¹ãƒˆã€è¤‡æ•°è¨€èªã‚³ãƒ¼ãƒ‰ |
| filter-chip-formatter.ts | 3 | âœ… å®Œå…¨å®Ÿè£… | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ |
| filter-icons.ts | 1 | âœ… å®Œå…¨å®Ÿè£… | ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¤‰æ› |
| mapping-manager.ts | 4 | âš ï¸ éƒ¨åˆ†å®Ÿè£… | æ—¥æœ¬èªãƒãƒƒãƒ”ãƒ³ã‚°ã®ã¿ã€è‹±èªæœªãƒ†ã‚¹ãƒˆ |
| deck-export.ts | 8 | âš ï¸ éƒ¨åˆ†å®Ÿè£… | åŸºæœ¬çš„ãª CSV/TXT ã®ã¿ |
| deck-import.ts | 10 | âš ï¸ éƒ¨åˆ†å®Ÿè£… | åŸºæœ¬çš„ãªã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã®ã¿ |
| png-metadata.ts | 9 | âš ï¸ éƒ¨åˆ†å®Ÿè£… | åŸºæœ¬çš„ãªåŸ‹ã‚è¾¼ã¿/æŠ½å‡º |
| search-exclusion-engine.ts | 8 | âš ï¸ éƒ¨åˆ†å®Ÿè£… | åŸºæœ¬çš„ãªæ’ä»–ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¿ |
| forbidden-limited-cache.ts | 4 | âš ï¸ éƒ¨åˆ†å®Ÿè£… | åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆã®ã¿ |
| url-state.ts | 1 | âš ï¸ éƒ¨åˆ†å®Ÿè£… | getParams/setHash ã®ã¿ |
| page-detector.ts | 15 | âš ï¸ éƒ¨åˆ†å®Ÿè£… | åŸºæœ¬çš„ãªãƒšãƒ¼ã‚¸åˆ¤å®šã®ã¿ |
| extract-mappings.ts | 12 | âŒ æ¬ è½ | HTML ãƒãƒƒãƒ”ãƒ³ã‚°æŠ½å‡º |
| card-utils.ts | 4 | âŒ æ¬ è½ | ã‚«ãƒ¼ãƒ‰æƒ…å ±å–å¾— |
| search-exclusion-adapter.ts | 3 | âŒ æ¬ è½ | adapter å±¤ |
| settings.ts | 7 | âŒ æ¬ è½ | ã‚¢ãƒ—ãƒªè¨­å®šï¼ˆè¦ç¢ºèªï¼‰ |
| extension-context-checker.ts | 4 | âŒ æ¬ è½ | æ‹¡å¼µæ©Ÿèƒ½ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ |
| deck-metadata-loader.ts | 9 | âŒ æ¬ è½ | ãƒ‡ãƒƒã‚­ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ |
| background-fetch-queue.ts | 6 | âŒ æ¬ è½ | ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ•ã‚§ãƒƒãƒ |
| card-limit.ts | 2 | âŒ æ¬ è½ | ç¦æ­¢åˆ¶é™ãƒªã‚¹ãƒˆå‡¦ç† |
| card-animation.ts | 2 | âŒ æ¬ è½ | DOM ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ |
| filter-label.ts | 7 | âŒ æ¬ è½ | ãƒ©ãƒ™ãƒ«å–å¾— |
| label-utils.ts | 6 | âŒ æ¬ è½ | ãƒ©ãƒ™ãƒ«å®šæ•° |
| temp-card-db.ts | 11 | âŒ æ¬ è½ | ä¸€æ™‚ã‚«ãƒ¼ãƒ‰ DB |
| ytkn-fetcher.ts | 2 | âŒ æ¬ è½ | YTKN ãƒˆãƒ¼ã‚¯ãƒ³å–å¾— |
| date-utils.ts | 4 | âœ… å®Œå…¨å®Ÿè£… | æ—¥ä»˜ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ |

### çµ±è¨ˆ

- **å®Œå…¨å®Ÿè£…**: 29.3% (39/133 é–¢æ•°)
- **éƒ¨åˆ†å®Ÿè£…**: 27.8% (37/133 é–¢æ•°)
- **ãƒ†ã‚¹ãƒˆæ¬ è½**: 42.9% (57/133 é–¢æ•°)
- **ãƒ•ã‚¡ã‚¤ãƒ«å˜ä½ã®ãƒ†ã‚¹ãƒˆå¯¾è±¡**: 39.3% (11/28 ãƒ•ã‚¡ã‚¤ãƒ«)

### é«˜å„ªå…ˆåº¦ï¼šæ¬ è½ãƒ†ã‚¹ãƒˆ

| å„ªå…ˆåº¦ | å¯¾è±¡ | ç†ç”± |
|--------|------|------|
| ğŸ”´ é«˜ | extract-mappings.ts | ãƒãƒƒãƒ”ãƒ³ã‚°æŠ½å‡ºï¼ˆHTML ãƒ‘ãƒ¼ã‚¹ï¼‰ |
| ğŸ”´ é«˜ | ytkn-fetcher.ts | YTKN ãƒˆãƒ¼ã‚¯ãƒ³å–å¾— |
| ğŸ”´ é«˜ | card-utils.ts | ã‚«ãƒ¼ãƒ‰æƒ…å ±å–å¾— |
| ğŸŸ¡ ä¸­ | settings.ts | ã‚¢ãƒ—ãƒªè¨­å®šä¿å­˜ |
| ğŸŸ¡ ä¸­ | card-limit.ts | ç¦æ­¢åˆ¶é™ãƒªã‚¹ãƒˆ |
| ğŸŸ¡ ä¸­ | temp-card-db.ts | ä¸€æ™‚ DB ç®¡ç† |

---

## D) çŠ¶æ…‹ç®¡ç†é ˜åŸŸ

**èª¿æŸ»å¯¾è±¡**: src/stores/ 3ãƒ•ã‚¡ã‚¤ãƒ«
**åˆè¨ˆ**: 128å€‹ (State 37 + Computed 8 + Action 83)

### ã‚¹ãƒˆã‚¢åˆ¥ãƒ†ã‚¹ãƒˆçŠ¶æ³

| ã‚¹ãƒˆã‚¢ | State | Computed | Action | ãƒ†ã‚¹ãƒˆå®Ÿè£… | ãƒ†ã‚¹ãƒˆæ¬ è½ | ã‚«ãƒãƒ¬ãƒƒã‚¸ |
|--------|-------|----------|--------|----------|----------|----------|
| **card-detail.ts** | 2 | 0 | 3 | 3 | 0 | âœ… 100% |
| **settings.ts** | 6 | 6 | 32 | 32 | 5 | âœ… 90% |
| **deck-edit.ts** | 29 | 2 | 48 | 22 | 26 | âš ï¸ 46% |

### card-detail.ts (51è¡Œ)

| é …ç›® | å†…å®¹ | ãƒ†ã‚¹ãƒˆçŠ¶æ…‹ |
|------|------|----------|
| State: selectedCard | é¸æŠä¸­ã®ã‚«ãƒ¼ãƒ‰æƒ…å ± | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| State: cardTab | è¡¨ç¤ºä¸­ã®ã‚¿ãƒ– (info/qa/related/products) | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Action: setSelectedCard | ã‚«ãƒ¼ãƒ‰é¸æŠ | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Action: setCardTab | ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Action: reset | ãƒªã‚»ãƒƒãƒˆ | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |

**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 100% âœ…
**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: tests/unit/deck-display/card-detail-display.test.ts (21 ãƒ†ã‚¹ãƒˆ)

### settings.ts (511è¡Œ)

| é …ç›® | å†…å®¹ | ãƒ†ã‚¹ãƒˆçŠ¶æ…‹ |
|------|------|----------|
| State: appSettings | ã‚¢ãƒ—ãƒªå…¨èˆ¬è¨­å®š | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| State: featureSettings | æ©Ÿèƒ½è¨­å®šãƒ•ãƒ©ã‚° | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| State: cardWidth* | ã‚«ãƒ¼ãƒ‰ã‚µã‚¤ã‚ºè¨­å®š (4ç¨®) | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Computed: *CardSizePixels | ã‚µã‚¤ã‚ºãƒ”ã‚¯ã‚»ãƒ«å€¤ (4ç¨®) | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Computed: effectiveTheme/Language | ãƒ†ãƒ¼ãƒãƒ»è¨€èª | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Action: loadSettings/saveSettings | è¨­å®š I/O | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Action: setCardSize | ã‚«ãƒ¼ãƒ‰ã‚µã‚¤ã‚ºè¨­å®š | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Action: setTheme/setLanguage | ãƒ†ãƒ¼ãƒãƒ»è¨€èªè¨­å®š | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Action: toggleFeature | æ©Ÿèƒ½ã®æœ‰åŠ¹/ç„¡åŠ¹ | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| Action: ãã®ä»– | ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ç­‰ | âš ï¸ éƒ¨åˆ†ãƒ†ã‚¹ãƒˆ |

**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 90% âœ…
**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: tests/unit/stores/settings.test.ts (47 ãƒ†ã‚¹ãƒˆ)

### deck-edit.ts (1,822è¡Œ)

| é …ç›® | å†…å®¹ | ãƒ†ã‚¹ãƒˆçŠ¶æ…‹ |
|------|------|----------|
| **State** (29å€‹) | deckInfo, trashDeck, displayOrder, UI ãƒ•ãƒ©ã‚°ç­‰ | âŒ ã»ã¼æ¬ è½ |
| **Computed** (2å€‹) | canUndo, canRedo | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ |
| **Action** (48å€‹) | | |
| - åŸºæœ¬æ“ä½œ (8å€‹) | addCard, removeCard, moveCard ç³» | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ (8/8) |
| - ã‚½ãƒ¼ãƒˆ/ã‚·ãƒ£ãƒƒãƒ•ãƒ« (4å€‹) | shuffleSection, sortSectionç­‰ | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ (2/4) |
| - Undo/Redo (3å€‹) | undo, redo, pushCommand | âœ… ãƒ†ã‚¹ãƒˆæ¸ˆã¿ (3/3) |
| - ãƒ‡ãƒƒã‚­ I/O (4å€‹) | saveDeck, loadDeck, reloadDeckç­‰ | âŒ æ¬ è½ (0/4) |
| - ãƒ‡ãƒƒã‚­ç®¡ç† (4å€‹) | createNewDeck, copyCurrentDeckç­‰ | âŒ æ¬ è½ (0/4) |
| - displayOrder æ“ä½œ (10å€‹) | ä¸¦ã³æ›¿ãˆã€ã‚½ãƒ¼ãƒˆé †åºå¤‰æ›´ç­‰ | âŒ æ¬ è½ (0/10) |
| - UI çŠ¶æ…‹ (15å€‹) | ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆã€ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°åˆ¶å¾¡ç­‰ | âŒ æ¬ è½ (0/15) |

**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 46% (22/48 ã‚¢ã‚¯ã‚·ãƒ§ãƒ³) âš ï¸
**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: tests/unit/stores/deck-edit.test.ts (22 ãƒ†ã‚¹ãƒˆ)

**æœªãƒ†ã‚¹ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå„ªå…ˆåº¦é †ï¼‰**:
1. ğŸ”´ saveDeck/loadDeck (ãƒ‡ãƒƒã‚­ I/O)
2. ğŸ”´ displayOrder æ“ä½œ (10å€‹) - ã‚½ãƒ¼ãƒˆé †åºå¤‰æ›´
3. ğŸ”´ UI çŠ¶æ…‹ç®¡ç† (15å€‹) - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãƒ»ã‚¿ãƒ–åˆ¶å¾¡
4. ğŸŸ¡ ãƒ‡ãƒƒã‚­ç®¡ç† (4å€‹) - æ–°è¦/ã‚³ãƒ”ãƒ¼/å‰Šé™¤

### çµ±è¨ˆ

- **å…¨ä½“ã‚«ãƒãƒ¬ãƒƒã‚¸**: 65% (66/128)
- **ãƒ†ã‚¹ãƒˆå®Ÿè£…æ¸ˆã¿**: 51.6% (66/128)
- **ãƒ†ã‚¹ãƒˆæ¬ è½**: 48.4% (62/128)

---

## E) ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ»å¤‰æ›é ˜åŸŸ

**èª¿æŸ»å¯¾è±¡**: src/content/parser/ 3ãƒ•ã‚¡ã‚¤ãƒ«
**åˆè¨ˆ**: 18å€‹é–¢æ•°

### ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ãƒ†ã‚¹ãƒˆçŠ¶æ³

| Parser | é–¢æ•°æ•° | ãƒ†ã‚¹ãƒˆçŠ¶æ³ | ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ |
|--------|--------|----------|-------------|------|
| **deck-parser.ts** | 2 | âŒ æ¬ è½ | - | ã‚«ãƒ¼ãƒ‰è¡Œãƒ‘ãƒ¼ã‚¹ã€ãƒ‡ãƒƒã‚­ãƒšãƒ¼ã‚¸å…¨ä½“ãƒ‘ãƒ¼ã‚¹ |
| **deck-detail-parser.ts** | 14 | âš ï¸ 6% | tests/combine/parser/deck-detail.test.ts | ãƒ‡ãƒƒã‚­è©³ç´°ãƒšãƒ¼ã‚¸ã®ãƒ‘ãƒ¼ã‚¹æ©Ÿèƒ½ï¼ˆparseDeckDetail ã®ã¿ï¼‰ |
| **deck-list-parser.ts** | 2 | âŒ æ¬ è½ | - | ãƒ‡ãƒƒã‚­ä¸€è¦§ãƒšãƒ¼ã‚¸ãƒ‘ãƒ¼ã‚¹ |

### è©³ç´°åˆ†é¡è¡¨

| Parser Module | é–¢æ•° | è²¬ä»» | ãƒ†ã‚¹ãƒˆçŠ¶æ…‹ | å‚™è€ƒ |
|-----------|------|------|----------|------|
| **deck-parser.ts** | parseCardRow | ã‚«ãƒ¼ãƒ‰è¡ŒHTMLâ†’æƒ…å ±æŠ½å‡º | âŒ æ¬ è½ | main/extra/side æŒ¯ã‚Šåˆ†ã‘ |
| | parseDeckPage | ãƒ‡ãƒƒã‚­ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ãƒ‘ãƒ¼ã‚¹ | âŒ æ¬ è½ | card rows ã‚’ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†åˆ¥ |
| **deck-detail-parser.ts** | parseDeckDetail | ãƒ‡ãƒƒã‚­è©³ç´°ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ãƒ‘ãƒ¼ã‚¹ | âœ… å®Ÿè£…æ¸ˆã¿ | çµ±åˆãƒ†ã‚¹ãƒˆ (tests/combine/parser/deck-detail.test.ts) |
| | validateDeckDetailPageStructure | ãƒšãƒ¼ã‚¸æ§‹é€ æ¤œè¨¼ | âŒ æ¬ è½ | å¤§å‹é–¢æ•°ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å€™è£œ |
| | extractDnoFromPage | ãƒ‡ãƒƒã‚­ç•ªå·æŠ½å‡º | âŒ æ¬ è½ | ãƒ¡ã‚¿ã‚¿ã‚°/URL ã‹ã‚‰æŠ½å‡º |
| | extractDeckNameFromMeta | ãƒ‡ãƒƒã‚­åæŠ½å‡º | âŒ æ¬ è½ | meta ã‚¿ã‚°ã‹ã‚‰æŠ½å‡º |
| | extractCiidCounts | ç”»åƒæšæ•°æƒ…å ±æŠ½å‡º | âŒ æ¬ è½ | è¤‡æ•°ã® ciid ã‚«ã‚¦ãƒ³ãƒˆ |
| | parseCardSection | ã‚«ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³è§£æ | âŒ æ¬ è½ | main/extra/side ã®è§£æ |
| | extractDeckType | ãƒ‡ãƒƒã‚­ã‚¿ã‚¤ãƒ—æŠ½å‡º | âŒ æ¬ è½ | OCG/RUSH åˆ¤å®š |
| | extractDeckStyle | ãƒ‡ãƒƒã‚­ã‚¹ã‚¿ã‚¤ãƒ«æŠ½å‡º | âŒ æ¬ è½ | ã‚¹ã‚¿ã‚¤ãƒ«å€¤ã®æŠ½å‡º |
| | extractCategory | ã‚«ãƒ†ã‚´ãƒªæŠ½å‡º | âŒ æ¬ è½ | ãƒªãƒ³ã‚¯ ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰æŠ½å‡º |
| | extractTags | ã‚¿ã‚°æŠ½å‡º | âŒ æ¬ è½ | ã‚¿ã‚°ãƒªã‚¹ãƒˆè§£æ |
| | extractComment | ã‚³ãƒ¡ãƒ³ãƒˆæŠ½å‡º | âŒ æ¬ è½ | ãƒ†ã‚­ã‚¹ãƒˆé ˜åŸŸã‹ã‚‰æŠ½å‡º |
| | extractDeckCode | ãƒ‡ãƒƒã‚­ã‚³ãƒ¼ãƒ‰æŠ½å‡º | âŒ æ¬ è½ | ã‚³ãƒ¼ãƒ‰æ–‡å­—åˆ—ã®æŠ½å‡º |
| **deck-list-parser.ts** | parseDeckList | ãƒ‡ãƒƒã‚­ä¸€è¦§ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ãƒ‘ãƒ¼ã‚¹ | âŒ æ¬ è½ | ãƒ†ãƒ¼ãƒ–ãƒ«è¡Œã‚’ãƒ«ãƒ¼ãƒ—å‡¦ç† |
| | parseDeckListRow | ãƒ‡ãƒƒã‚­è¡ŒHTMLâ†’1ä»¶ã®æƒ…å ±æŠ½å‡º | âŒ æ¬ è½ | ä¸€è¡Œã‹ã‚‰è¤‡æ•°ã®æƒ…å ±ã‚’æŠ½å‡º |

### ãƒ†ã‚¹ãƒˆçµ±è¨ˆ

- **ãƒ†ã‚¹ãƒˆå®Ÿè£…ç‡**: 5.6% (1/18)
- **éƒ¨åˆ†å®Ÿè£…**: 0%
- **ãƒ†ã‚¹ãƒˆæ¬ è½**: 94.4% (17/18)
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: 2å€‹ (deck-detail.test.ts, deck-detail-en.test.ts)
- **ãƒ†ã‚¹ãƒˆæ•°**: 2å€‹

### é«˜å„ªå…ˆåº¦ï¼šæ¬ è½ãƒ†ã‚¹ãƒˆ

**å„ªå…ˆåº¦ğŸ”´ æœ€é«˜** - HTML ãƒ‘ãƒ¼ã‚¹æ©Ÿèƒ½ã®å¤§éƒ¨åˆ†ãŒæœªãƒ†ã‚¹ãƒˆ:
1. **deck-parser.ts** (2é–¢æ•°) - ã‚«ãƒ¼ãƒ‰è¡Œãƒ‘ãƒ¼ã‚¹
2. **deck-detail-parser.ts** (13é–¢æ•°) - è©³ç´°ãƒšãƒ¼ã‚¸ã®å„æŠ½å‡ºé–¢æ•°
3. **deck-list-parser.ts** (2é–¢æ•°) - ãƒ‡ãƒƒã‚­ä¸€è¦§ãƒ‘ãƒ¼ã‚¹
4. **å¤šè¨€èªå¯¾å¿œãƒ†ã‚¹ãƒˆ** - ja, en, ko, de ç­‰å„è¨€èªã§ã®ç¢ºèª

---

## Phase 2 å‘ã‘ï¼šã¬ã‘æ¼ã‚Œãƒ»æ›´æ–°æ¼ã‚Œãƒ»å»ƒæ­¢æ¼ã‚Œã®å„ªå…ˆäº‹é …

### 1. ãƒ†ã‚¹ãƒˆæ¬ è½ã®ç¢ºèªï¼ˆå„ªå…ˆåº¦åˆ¥ï¼‰

#### ğŸ”´ è¶…é«˜å„ªå…ˆåº¦ï¼ˆå³æ™‚ãƒ†ã‚¹ãƒˆå®Ÿè£…æ¨å¥¨ï¼‰

| é ˜åŸŸ | å¯¾è±¡ | é …ç›®æ•° | ãƒªã‚¹ã‚¯ | æ¨å¥¨ãƒ†ã‚¹ãƒˆæ–¹æ³• |
|------|------|--------|--------|-------------|
| Parser | deck-parser.ts + deck-list-parser.ts | 4é–¢æ•° | ğŸ”´ é«˜ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ (HTML ã‚µãƒ³ãƒ—ãƒ«ä½¿ç”¨) |
| Parser | deck-detail-parser.ts extracté–¢æ•°ç¾¤ | 13é–¢æ•° | ğŸ”´ é«˜ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ (sample HTML) |
| API | image-utils.ts å…¨8é–¢æ•° | 8é–¢æ•° | ğŸ”´ é«˜ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ (å˜ç´”ãª UI) |
| Utility | extract-mappings.ts | 12é–¢æ•° | ğŸ”´ é«˜ | çµ±åˆãƒ†ã‚¹ãƒˆ (sample HTML) |
| Utility | card-utils.ts | 4é–¢æ•° | ğŸ”´ é«˜ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ (ãƒ¢ãƒƒã‚¯ä½¿ç”¨) |
| Vue | CardDetail.vue + RightArea.vue | 2å€‹ | ğŸ”´ é«˜ | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ |
| Vue | DeckMetadata.vue + é–¢é€£ (5å€‹) | 5å€‹ | ğŸ”´ é«˜ | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ |
| Store | deck-edit.ts: saveDeck/loadDeck | 4å€‹ | ğŸ”´ é«˜ | çµ±åˆãƒ†ã‚¹ãƒˆ (API ãƒ¢ãƒƒã‚¯) |

#### ğŸŸ¡ ä¸­å„ªå…ˆåº¦ï¼ˆæ¬¡ãƒ•ã‚§ãƒ¼ã‚ºå®Ÿè£…æ¨å¥¨ï¼‰

| é ˜åŸŸ | å¯¾è±¡ | é …ç›®æ•° | æ¨å¥¨ãƒ†ã‚¹ãƒˆæ–¹æ³• |
|------|------|--------|-------------|
| API | searchCards ç³» (3é–¢æ•°) | 3é–¢æ•° | APIãƒ¢ãƒƒã‚¯çµ±åˆãƒ†ã‚¹ãƒˆ |
| API | deck-operations ç³» (5é–¢æ•°) | 5é–¢æ•° | E2E ãƒ†ã‚¹ãƒˆ (Chrome CDP) |
| Vue | ImportDialog + ExportDialog | 2å€‹ | ãƒ•ã‚¡ã‚¤ãƒ« I/O ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ |
| Vue | SearchInputBar + CategoryDialog | 2å€‹ | UI ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ |
| Utility | settings.ts | 7é–¢æ•° | ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ¢ãƒƒã‚¯ä½¿ç”¨ |
| Utility | deck-metadata-loader.ts | 9é–¢æ•° | DOM + ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ¢ãƒƒã‚¯ |
| Utility | card-limit.ts | 2é–¢æ•° | ã‚­ãƒ£ãƒƒã‚·ãƒ¥é€£æºãƒ†ã‚¹ãƒˆ |
| Store | deck-edit.ts: displayOrder æ“ä½œ | 10å€‹ | ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ãƒ†ã‚¹ãƒˆ |
| Store | deck-edit.ts: UI çŠ¶æ…‹ç®¡ç† | 15å€‹ | State æ›´æ–°ãƒ†ã‚¹ãƒˆ |

#### ğŸŸ¢ ä½å„ªå…ˆåº¦ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

| é ˜åŸŸ | å¯¾è±¡ | é …ç›®æ•° | è£œè¶³ |
|------|------|--------|------|
| Vue | Toast.vue, OptionsDialog.vue | 2å€‹ | UI ãƒ†ã‚¹ãƒˆé›£åº¦é«˜ |
| API | forbidden-limited.ts: parseForbiddenLimitedHtml | 1å€‹ | è£œåŠ©æ©Ÿèƒ½ |
| Utility | card-animation.ts, extension-context-checker.ts | 6å€‹ | ãƒ–ãƒ©ã‚¦ã‚¶ API ä¾å­˜ |
| Utility | filter-label.ts, label-utils.ts | 13å€‹ | ãƒ‡ãƒ¼ã‚¿å®šç¾©ã®ã¿ |

### 2. ãƒ†ã‚¹ãƒˆæ›´æ–°æ¼ã‚Œã®ç¢ºèªï¼ˆæ¤œè¨¼å¿…è¦ï¼‰

ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆãŒå¯¾å¿œã™ã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ã«è¿½å¾“ã—ã¦ã„ã‚‹ã‹ç¢ºèªãŒå¿…è¦ï¼š

| ãƒ†ã‚¹ãƒˆå¯¾è±¡ | ãƒ•ã‚¡ã‚¤ãƒ« | æœ€çµ‚æ›´æ–°æ—¥ | æ¤œè¨¼é …ç›® |
|----------|---------|----------|---------|
| deck-export.ts | tests/unit/deck-export.test.ts | æœªç¢ºèª | ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå½¢å¼ã®å¤‰æ›´å¯¾å¿œ |
| deck-import.ts | tests/unit/deck-import.test.ts | æœªç¢ºèª | ã‚¤ãƒ³ãƒãƒ¼ãƒˆäº’æ›æ€§ã®ç¶­æŒ |
| url-state.ts | tests/unit/url-state.test.ts | æœªç¢ºèª | URL ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å½¢å¼ã®å¤‰æ›´ |
| page-detector.ts | tests/unit/utils/page-detector.test.ts | æœªç¢ºèª | RUSHdb å¯¾å¿œçŠ¶æ³ |
| search-exclusion-engine.ts | tests/unit/search-exclusion-engine.test.ts | æœªç¢ºèª | ãƒ•ã‚£ãƒ«ã‚¿ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´å¯¾å¿œ |
| CardList.vue | tests/unit/components/CardList.test.ts | æœ€æ–° | props ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚ºå•é¡Œã¯ä¿®æ­£æ¸ˆã¿ |
| mapping-manager.ts | tests/unit/utils/mapping-manager.test.ts | æœ€æ–° | è‹±èªãƒãƒƒãƒ”ãƒ³ã‚°å®Ÿè£…å¾…æ©Ÿä¸­ |

### 3. ãƒ†ã‚¹ãƒˆå»ƒæ­¢æ¼ã‚Œã®ç¢ºèªï¼ˆå‰Šé™¤æ¤œè¨ï¼‰

æœ¬èª¿æŸ»ã§ã¯ä»¥ä¸‹ã®å»ƒæ­¢ãƒ•ãƒ©ã‚°ãªã—ã€‚ãŸã ã—ã€ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ™ãƒ¼ã‚¹ã®ãŸã‚ã€vitest ã¸ã®ç§»è¡ŒãŒæ¨å¥¨ï¼š

| ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« | å½¢å¼ | æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|-------------|------|-------------|
| tests/combine/parser/card-faq-list.test.ts | ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ™ãƒ¼ã‚¹ | vitest ã¸ç§»è¡Œ |
| tests/combine/parser/card-detail.test.ts | ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ™ãƒ¼ã‚¹ | vitest ã¸ç§»è¡Œ |
| tests/combine/parser/deck-detail.test.ts | ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ™ãƒ¼ã‚¹ | vitest ã¸ç§»è¡Œ |

---

## çµ±è¨ˆã‚µãƒãƒªãƒ¼

### å…¨ä½“ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

```
ç·ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»é–¢æ•°ãƒ»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ•°:  395å€‹

å†…è¨³:
  âœ… ãƒ†ã‚¹ãƒˆå®Ÿè£…æ¸ˆã¿:   114å€‹ (28.9%)
  âš ï¸ éƒ¨åˆ†å®Ÿè£…:         13å€‹ (3.3%)
  âŒ ãƒ†ã‚¹ãƒˆæ¬ è½:       268å€‹ (67.8%)

é ˜åŸŸåˆ¥å†…è¨³:
  Vue Component:    21.7% (5/23)
  API:              28.6% (12/42)
  Utility:          39.3% (11/28 ãƒ•ã‚¡ã‚¤ãƒ«, 57.1% é–¢æ•°)
  Store:            51.6% (66/128)
  Parser:            5.6% (1/18)

åŠ é‡å¹³å‡:           29.4%
```

### Phase 2 ã§ã®æ¤œè¨äº‹é …

**ãƒ†ã‚¹ãƒˆæ¬ è½**: 268å€‹
**æ¨å¥¨å®Ÿè£…æœŸé–“**:
- è¶…é«˜å„ªå…ˆåº¦ (ğŸ”´): 2-3 é€±é–“
- ä¸­å„ªå…ˆåº¦ (ğŸŸ¡): 3-4 é€±é–“
- ä½å„ªå…ˆåº¦ (ğŸŸ¢): ã‚ªãƒ—ã‚·ãƒ§ãƒ³

---

## æˆæœç‰©ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- âœ… é ˜åŸŸåˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»æ©Ÿèƒ½ãƒ»é–¢æ•°ã®å…¨ç¶²ç¾…çš„åˆ†é¡
- âœ… ãƒ†ã‚¹ãƒˆçŠ¶æ³ï¼ˆå®Ÿè£…æ¸ˆã¿/éƒ¨åˆ†å®Ÿè£…/æ¬ è½ï¼‰ã®æ˜ç¢ºåŒ–
- âœ… ãƒªã‚¹ã‚¯è©•ä¾¡ï¼ˆé«˜/ä¸­/ä½ï¼‰ã®å¯è¦–åŒ–
- âœ… Phase 2 å‘ã‘ã®å„ªå…ˆåº¦ä»˜ã‘ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ

**ã“ã®ãƒ¬ãƒãƒ¼ãƒˆã¯ Phase 2ï¼ˆãƒ†ã‚¹ãƒˆæ¬ è½ãƒ»æ›´æ–°æ¼ã‚Œãƒ»å»ƒæ­¢æ¼ã‚Œåˆ†æï¼‰ã®å…¥åŠ›ã¨ãªã‚Šã¾ã™ã€‚**

